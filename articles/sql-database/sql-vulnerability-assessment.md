---
title: 'Evaluación de vulnerabilidad de SQL: Azure SQL Database | Microsoft Docs'
description: Aprenda a configurar la Evaluación de vulnerabilidad de SQL en SQL Database y a interpretar los informes de evaluación.
services: sql-database
author: ronitr
manager: craigg
ms.service: sql-database
ms.topic: conceptual
ms.date: 05/17/2018
ms.author: ronitr
ms.reviewer: carlrab
ms.openlocfilehash: c415dd2a923403d8205034eb707c1c1a333bf335
ms.sourcegitcommit: 266fe4c2216c0420e415d733cd3abbf94994533d
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 06/01/2018
ms.locfileid: "34650033"
---
# <a name="sql-vulnerability-assessment"></a>Evaluación de vulnerabilidades de SQL

La Evaluación de vulnerabilidad de SQL es un servicio fácil de configurar que puede detectar, realizar un seguimiento y corregir posibles puntos vulnerables en la base de datos. Use esta solución para mejorar la seguridad de la base de datos de manera de manera proactiva. 

La evaluación de vulnerabilidades forma parte de la oferta de [Protección contra amenazas avanzada de SQL](sql-advanced-threat-protection.md) (ATP), que es un paquete unificado para funcionalidades avanzadas de seguridad de SQL. Puede acceder a la Evaluación de vulnerabilidad y administrarla a través del portal central de ATP de SQL.

## <a name="what-is-vulnerability-assessment"></a>¿Qué es la evaluación de vulnerabilidades?
Evaluación de vulnerabilidad de SQL (VA) es un servicio que proporciona visibilidad en el estado de seguridad e incluye pasos que requieren acción para resolver problemas de seguridad y mejorar la seguridad de la base de datos. Puede ayudarle a realizar las siguientes tareas:  
- Satisfacer los requisitos de cumplimiento que requieren los informes de análisis de base de datos.  
- Cumplir los estándares de privacidad de datos.  
- Supervisar un entorno de base de datos dinámico en el que es complicado realizar un seguimiento de los cambios.  

VA es un servicio de análisis integrado en el servicio de Azure SQL Database. El servicio emplea una base de conocimiento de las reglas que marcan las vulnerabilidades de seguridad y resaltan las desviaciones de las prácticas recomendadas, como errores de configuración, permisos excesivos y datos confidenciales sin protección. Las reglas se basan en los procedimientos recomendados de Microsoft y se centran en los problemas de seguridad que presentan mayores riesgos para la base de datos y sus valiosos datos. Tratan los problemas de nivel de base de datos, así como los problemas de seguridad de nivel de servidor, como la configuración del firewall de servidor y los permisos de nivel de servidor. Estas reglas también representan muchos de los requisitos de diferentes organismos reguladores para cumplir sus estándares de cumplimiento normativo.  

Los resultados del examen incluyen pasos que requieren acción para resolver cada problema y proporcionan scripts de corrección personalizados, si procede. Es posible personalizar un informe de evaluación para su entorno estableciendo una línea de base aceptable para las configuraciones de permisos, configuraciones de características y configuración de base de datos.   

## <a name="implementing-va"></a>Implementación de VA  
En los pasos siguientes se implementa VA en SQL Database.  

## <a name="1-run-a-scan"></a>1. Ejecución de un examen  
Para empezar a usar VA, navegue hasta **Protección contra amenazas avanzada** en el encabezado Seguridad del panel de Azure SQL Database. Haga clic para habilitar la Protección contra amenazas avanzada y, a continuación, haga clic en la tarjeta **Evaluación de vulnerabilidad**, que abre automáticamente la tarjeta de configuración de la Evaluación de vulnerabilidad. 

Empiece configurando una cuenta de almacenamiento en la que se almacenarán los resultados del examen. Para más información sobre las cuentas de almacenamiento, vea [Acerca de las cuentas de almacenamiento de Azure](../storage/common/storage-create-storage-account.md). Una vez configurado el almacenamiento, haga clic en **Examinar** para examinar la base de datos en busca de vulnerabilidades.
  
![Examen de una base de datos](./media/sql-vulnerability-assessment/pp_va_initialize.png)  
  > [!NOTE]   
  > El examen es ligero y seguro. Tarda unos segundos en ejecutarse y es completamente de solo lectura. No realizará ningún cambio en la base de datos.  

## <a name="2-view-the-report"></a>2. Visualización del informe  
Una vez completado el examen, el informe del examen se muestra automáticamente en Azure Portal. El informe presenta una introducción del estado de seguridad: cuántos problemas se han detectado y sus respectivas gravedades. Los resultados incluyen advertencias sobre las desviaciones de los procedimientos recomendados, así como una instantánea de la configuración relacionada con la seguridad; por ejemplo, entidades de seguridad de bases de datos y roles, y sus permisos asociados. El informe de análisis también proporciona un mapa de datos confidenciales detectados en la base de datos, así como recomendaciones para clasificar datos mediante la [Clasificación y detección de datos](sql-database-data-discovery-and-classification.md). 
 
![Visualización del informe](./media/sql-vulnerability-assessment/pp_main_getstarted.png)  

## <a name="3-analyze-the-results-and-resolve-issues"></a>3. Análisis de los resultados y solución de problemas  
Revise los resultados y determine qué resultados del informe son, verdaderamente, problemas de seguridad en su entorno. Examine con detalle cada resultado erróneo para entender el impacto de la búsqueda y por qué se ha producido un error en las comprobaciones de seguridad. Use la información de corrección que requiere acción proporcionada por el informe para resolver el problema.  

![Análisis del informe](./media/sql-vulnerability-assessment/pp_fail_rule_show_remediation.png)    

## <a name="4-set-your-baseline"></a>4. Establecimiento de la línea base  
Cuando revise los resultados de la evaluación, puede marcar los resultados específicos como una *línea de base* aceptable en su entorno. La línea base es básicamente una personalización de cómo se notifican los resultados. Los resultados que coinciden con la línea base se consideran aprobados en los análisis posteriores. Una vez que haya establecido el estado de seguridad de la línea de base, VA solo notifica desviaciones de la línea de base y puede centrar la atención en los problemas importantes.  

![Establecimiento de la línea base](./media/sql-vulnerability-assessment/pp_fail_rule_show_baseline.png)  

## <a name="5-run-a-new-scan-to-see-your-customized-tracking-report"></a>5. Ejecución de un nuevo examen para ver el informe de seguimiento personalizado  
Después de completar la configuración de sus **líneas de base de la regla**, ejecute un examen nuevo para ver el informe personalizado. Ahora, VA informa solo de los problemas de seguridad que se desvían de la línea base aprobada. 
 
![Visualización del informe personalizado](./media/sql-vulnerability-assessment/pp_pass_main_with_baselines.png)  

VA puede usarse ahora para supervisar que la base de datos mantenga un alto nivel de seguridad en todo momento y que se cumplan las directivas de la organización. Si se requieren informes de cumplimiento, los informes de VA pueden ser útiles para facilitar el proceso de cumplimiento.  

## <a name="6-set-up-periodic-recurring-scans"></a>6. Configuración de exámenes periódicos
Vaya a la opción Evaluación de vulnerabilidad para activar **Exámenes periódicos**. Se configurará la Evaluación de vulnerabilidad para ejecutar automáticamente un examen en la base de datos una vez por semana. Se enviará un resumen de resultados del examen a las direcciones de correo electrónico que proporcione.

![Visualización del informe personalizado](./media/sql-vulnerability-assessment/pp_recurring_scans.png)

## <a name="7---export-an-assessment-report"></a>7.   Exportación de un informe de evaluación
Haga clic en **Exportar resultados del examen** para crear un informe de Excel del resultado del examen que se pueda descargar. Este informe contiene una pestaña de resumen que muestra un resumen de la evaluación, incluidas todas las comprobaciones con errores. También incluye una pestaña de **Resultados** que contiene el conjunto completo de resultados del examen, incluidas todas las comprobaciones ejecutadas y sus resultados detallados. 

## <a name="8---view-scan-history"></a>8.   Visualización del historial de exámenes
Haga clic en **Historial de exámenes** en el panel de VA para ver el historial de todos los exámenes ejecutados previamente en la base de datos. Seleccione un examen concreto en la lista para ver los resultados detallados del examen.

VA puede usarse ahora para supervisar que la base de datos mantenga un alto nivel de seguridad en todo momento y que se cumplan las directivas de la organización. Si se requieren informes de cumplimiento, los informes de VA pueden ser útiles para facilitar el proceso de cumplimiento.

## <a name="next-steps"></a>Pasos siguientes  

- Más información sobre la [Protección contra amenazas avanzada de SQL](sql-advanced-threat-protection.md)
- Más información sobre la [Clasificación y detección de datos](sql-database-data-discovery-and-classification.md)
